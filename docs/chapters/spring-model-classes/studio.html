<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>12.2. Studio: Spa User Signup &#8212; Java Web Development  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Index" href="../../genindex.html" />
    <link rel="prev" title="12.1. Exercises: Edit Model Classes" href="exercises.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html">12. Model Classes</a></li>
    <li class="active">12.2. Studio: Spa User Signup</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content ">

    
  <div class="section" id="studio-spa-user-signup">
<h1>12.2. Studio: Spa User Signup<a class="headerlink" href="#studio-spa-user-signup" title="Permalink to this headline">¶</a></h1>
<p>For this studio you will add functionality to allow users to sign up
for your <code class="docutils literal notranslate"><span class="pre">spa-day</span></code> app.</p>
<p>The starter code has been modified from where you left off last class. Grab the refactored code
on this <a class="reference external" href="https://github.com/LaunchCodeEducation/spa-day-starter-code/tree/user-signup-starter" target="_blank">branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
<div class="section" id="getting-ready">
<h2>12.2.1. Getting Ready<a class="headerlink" href="#getting-ready" title="Permalink to this headline">¶</a></h2>
<p>Within <code class="docutils literal notranslate"><span class="pre">spa-day</span></code>, create the following files.</p>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt>Create a <code class="docutils literal notranslate"><span class="pre">UserController</span></code> in <code class="docutils literal notranslate"><span class="pre">org.launchcode.spaday.controllers</span></code>. Add the</dt>
<dd><code class="docutils literal notranslate"><span class="pre">&#64;Controller</span></code> annotation, along with <code class="docutils literal notranslate"><span class="pre">&#64;RequestMapping(&quot;user&quot;)</span></code> to
configure routes into the controller.</dd>
</dl>
</li>
<li>Create a new folder, <code class="docutils literal notranslate"><span class="pre">user/</span></code> within <code class="docutils literal notranslate"><span class="pre">resources/templates</span></code></li>
<li>Create <code class="docutils literal notranslate"><span class="pre">index.html</span></code> and <code class="docutils literal notranslate"><span class="pre">add.html</span></code> templates within <code class="docutils literal notranslate"><span class="pre">resources/templates/user/</span></code></li>
<li>Create a <code class="docutils literal notranslate"><span class="pre">User</span></code> class within <code class="docutils literal notranslate"><span class="pre">org.launchcode.spaday.models</span></code></li>
</ol>
</div>
<div class="section" id="creating-the-model">
<h2>12.2.2. Creating the Model<a class="headerlink" href="#creating-the-model" title="Permalink to this headline">¶</a></h2>
<p>Your <code class="docutils literal notranslate"><span class="pre">User</span></code> class should have a few private fields with getters and
setters: <code class="docutils literal notranslate"><span class="pre">username</span></code>, <code class="docutils literal notranslate"><span class="pre">email</span></code>, <code class="docutils literal notranslate"><span class="pre">password</span></code>. These should each be
strings.</p>
<p>If you create a non-default constructor, be sure to also create a
default constructor (which can be empty).</p>
</div>
<div class="section" id="rendering-the-add-user-form">
<h2>12.2.3. Rendering the Add User Form<a class="headerlink" href="#rendering-the-add-user-form" title="Permalink to this headline">¶</a></h2>
<p>Within the controller, create a handler method <code class="docutils literal notranslate"><span class="pre">displayAddUserForm(Model</span> <span class="pre">model)</span></code> to
render the form. This handler should correspond to the path
<code class="docutils literal notranslate"><span class="pre">/user/add</span></code>, and for now, it can just return the path to the
<code class="docutils literal notranslate"><span class="pre">add.html</span></code> template.</p>
<p>Within the <code class="docutils literal notranslate"><span class="pre">add.html</span></code> template, create a form that accepts inputs for
each of the <code class="docutils literal notranslate"><span class="pre">User</span></code> class properties, along with a Verify Password
input. The form should be set up to <code class="docutils literal notranslate"><span class="pre">POST</span></code> to the same URL that it is
displayed at.</p>
<p>Be sure to set <code class="docutils literal notranslate"><span class="pre">type=&quot;password&quot;</span></code> for the password and verify inputs,
to ensure the passwords are not visible when being typed into the form.
You can also set <code class="docutils literal notranslate"><span class="pre">type=&quot;email&quot;</span></code> on the email input, which will enable
some basic client-side validation.</p>
</div>
<div class="section" id="handling-form-submission">
<h2>12.2.4. Handling Form Submission<a class="headerlink" href="#handling-form-submission" title="Permalink to this headline">¶</a></h2>
<p>Within the controller, create a handler method with this signature:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="n">String</span> <span class="nf">add</span><span class="o">(</span><span class="n">Model</span> <span class="n">model</span><span class="o">,</span> <span class="nd">@ModelAttribute</span> <span class="n">User</span> <span class="n">user</span><span class="o">,</span> <span class="n">String</span> <span class="n">verify</span><span class="o">);</span>
</pre></div>
</div>
<p>This will use model binding to create a new user object, <code class="docutils literal notranslate"><span class="pre">user</span></code>, and
pass it into your handler method. Check that <code class="docutils literal notranslate"><span class="pre">verify</span></code> matches the
password within the <code class="docutils literal notranslate"><span class="pre">user</span></code> object. If it does, render the
<code class="docutils literal notranslate"><span class="pre">index.html</span></code> view template with a message that welcomes the user by
name. If the passwords don’t match, render the form again with the
username and email fields already populated, along with a message
indicating what went wrong.</p>
<p>You don’t need to store the <code class="docutils literal notranslate"><span class="pre">User</span></code> object anywhere for this studio.
We’re focusing on form handling and validation in this exercise. If you
want to keep track of users using the method we employed in the models
lesson video, check out the Bonus Missions below.</p>
</div>
<div class="section" id="bonus-missions">
<h2>12.2.5. Bonus Missions<a class="headerlink" href="#bonus-missions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Add a <code class="docutils literal notranslate"><span class="pre">userId</span></code> field to <code class="docutils literal notranslate"><span class="pre">User</span></code>, along with accessor methods (with
appropriate access level). Create a <code class="docutils literal notranslate"><span class="pre">UserData</span></code> class within
<code class="docutils literal notranslate"><span class="pre">org.launchcode.models</span></code> that provides access to a list of users via
<code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">getAll</span></code>, and <code class="docutils literal notranslate"><span class="pre">getById</span></code>.</li>
<li>Add additional validation within
<code class="docutils literal notranslate"><span class="pre">UserController.add(Model,</span> <span class="pre">User,</span> <span class="pre">String)</span></code> to make sure that the
username and email are not empty, that the username is between 5 and
15 characters long, and the username contains only letters. If any of
these checks fails, render the form again with an appropriate
message. When doing so, make sure that any inputs that <em>did</em> validate
are populated with the value the user provided the first time.</li>
<li>This builds on 1. In the <code class="docutils literal notranslate"><span class="pre">user/index.html</span></code> view, display a list of
all users by username. Each username should have a link that takes
you to a detail page that lists the user’s username and email.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">Date</span></code> field in <code class="docutils literal notranslate"><span class="pre">User</span></code>, and initialize it to the time the
user joined (i.e.&nbsp;when the <code class="docutils literal notranslate"><span class="pre">User</span></code> object was created). Display the
value of this property in the user detail view.</li>
</ol>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="exercises.html"><span aria-hidden="true">&larr;</span> 12.1. Exercises: Edit Model Classes</a></li>
        
        
        <li class="next"><a href="../../genindex.html">Index <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/spring-model-classes/studio.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>